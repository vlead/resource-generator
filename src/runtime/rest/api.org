#+TITLE: The REST API
#+AUTHOR: VLEAD
#+SETUPFILE: ../../org-templates/level-2.org
#+TAGS: boilerplate(b)
#+EXCLUDE_TAGS: boilerplate
#+OPTIONS: ^:nil

* Introduction
  This document illustrates building of REST API for the resource-generator

* REST

** Blueprint
#+NAME: blueprint
#+BEGIN_SRC python
api = Blueprint('APIs', __name__)

#+END_SRC


** index
#+NAME: index_route
#+BEGIN_SRC python
@api.route("/", methods=['GET'])
def index(request): # redirect to index.org of documentation
    pass

#+END_SRC


** API heading
   
*** API design
    
    - URL :: /
    - METHOD ::
    - PAYLOAD ::
         #+BEGIN_EXAMPLE
         #+END_EXAMPLE
    - SUCCESS Response :: 200 OK
    - ERROR Response :: 400

*** API
#+NAME: create_experiment_route
#+BEGIN_SRC python
#+END_SRC

* Imports
#+NAME: imports_api
#+BEGIN_SRC python
import json, yaml
from flask import Blueprint, session, request, make_response, \
    jsonify, url_for, abort
from runtime.system.system_interface import *

#+END_SRC

* Tangle
#+BEGIN_SRC python :tangle api.py :eval no :noweb yes
<<imports_api>>
<<blueprint>>
<<index_route>>
<<create_experiment_route>>
#+END_SRC
